# Урок 4. Bash, скрипты и автоматизация

## 1. Написать скрипт, который удаляет из текстового файла пустые строки и заменяет маленькие символы на большие (воспользуйтесь tr или sed).

script1</br>
============</br>
#/bin/bash </br>
cd ~/lesson_04</br>
 cat file1|tr -s '\n'| tr 'a-z' 'A-Z' > file2</br>

После этого:</br>
chmod a+x script1


## 2. Создать скрипт, который создаст директории для нескольких годов (2010 — 2017), в них — поддиректории для месяцев (от 01 до 12), и в каждый из них запишет несколько файлов с произвольными записями (например, 001.txt, содержащий текст«Файл 001», 002.txt с текстом Файл 002) и т. д.
```python
#!/bin/bash
#Создадим структуру каталогов
mkdir -p 20{10..17}/{01..12}
#в цикле обходим года
for i in {2010..2017}
do
    #в цикле обходим месяцы
    for j in {01..12}
    do
        echo "Файл 0"$j > $i/$j/file0$j.txt
    done
done
```
После этого:</br>
chmod a+x script3


## 3. Создать файл crontab, который ежедневно регистрирует занятое каждым пользователем дисковое пространство в его домашней директории.

sudo crontab -e</br>
59 23 * * * sudo du -h -d 1 /home/ > ~/all_homedirs.log

## 4. Создать скрипт ownersort.sh, который в заданной папке копирует файлы в директории, названные по имени владельца каждого файла. Учтите, что файл должен принадлежать соответствующему владельцу.
```python
#! /bin/bash
cd $1
owners=$(ls -l | grep -v ^итого | sed 's/\s\s*\s/ /g' | cut -d ' ' -f 3)
for owner in $owners
do 
    owner_files=$(ls -l | sed 's/\s\s*\s/ /g' | cut -d ' ' -f 3 | grep ^$owner)
    mkdir $owner
    cp $owner_files $owner/ -r
done
```
